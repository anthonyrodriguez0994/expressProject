extends index

block topbar
    include navbar

block scripts
    link(href="https://vjs.zencdn.net/7.4.1/video-js.css" rel="stylesheet")

    script(src="https://vjs.zencdn.net/ie8/ie8-version/videojs-ie8.min.js")
    script(src='https://vjs.zencdn.net/7.4.1/video.js')

block append stylesheet
    link(rel='stylesheet', href='/stylesheets/productions.css')

block content
    .container-fluid.backgroundproduction
        .container-fluid#productionbox
            .row
                .col-sm-2
                .col-sm-4#showimage
                    img.img-fluid.rounded.mx-auto.logoimage#logos(src=`/images/showthumbnail/${productionData.id}.jpg` alt=`${productionData.title}`, width='300')
                .col-sm-4#showinfo
                    h1= productionData.title
                    p= productionData.showSummary
                .col-sm-2
                    button#sidebarCollapse.btn.fixed-top.buttoncolor.btn-info(type='button') Sidebar
    .container.showgrid
        .container.cardcontainer#seasonsandeps
            .row
                .col-sm-2
                .col-sm-3
                    .dropdown.select.selectpicker(data-dropup-auto='false')
                        button.buttoncolor.btn.btn-primary.dropdown-toggle(type='button', data-toggle='dropdown')
                            Dropdown Season #{season}
                        .dropdown-menu.buttoncolor
                            - var i = 1;
                            while i <= productionData.seasonCount
                                a#link(href= `./?production=${productionData.id}&seasonSelection=${i}`) Season #{i++}
                                p
                .col-sm-7
            .container
                - var episode = 1
                while episode <= episodeCount
                    if (episode % 3 === 1)
                        .row
                    .col-sm-4
                        .card.epbox
                            - var episodeLink = `./?production=${productionData.id}&seasonSelection=${season}&episodeSelection=${episode}`
                            a#link(href= episodeLink)
                                img.card-img-top#logos(src=`/images/epthumbnail/${productionData.id}.jpg` alt=`${productionData.title}`, width='300')
                            .card-body
                                 a#link(href= episodeLink) Episode #{episode} - #{episodeData[episode-1].title}
                    - episode++
